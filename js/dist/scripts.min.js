/*!
 * gigwave v0.1.0 - TBC
 */
function gigwave(){}function setClassesArray(a,b,c){var d=0===b?"first":"",e=b===c-1?"last":"",f=[a,d,e],g=f.clean("").join(" ").trim();return g}function timeAgo(a){var b=60,c=60*b,d=new Date,e=d.getTime(),f=String(e).substr(0,a.uts.length),g=f-a.uts,h=60>g/b?Math.round(g/b)+" minute":24>g/c?Math.round(g/c)+" hour":null,i=g>1?"s":"",j=h?h+i+" ago":a["#text"];return j}function each(a,b){for(var c in a)if(a.hasOwnProperty(c)&&(cont=b(c,a[c]),cont===!1))break}function objToParams(a){var b="";for(var c in a)""!==b&&(b+="&"),b+=c+"="+a[c];return b}function loader(a,b){this.element=a,this.settings=b,this.status=null}gigwave.prototype={init:function(a){console.log("hello")}},String.prototype.cleanup=function(){return this.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")},Array.prototype.clean=function(a){for(var b=0;b<this.length;b++)this[b]===a&&(this.splice(b,1),b--);return this},"function"!=typeof window.CustomEvent&&!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}window.CustomEvent=a,a.prototype=window.CustomEvent.prototype}(),loader.prototype={loadfeed:function(a,b){var c;try{var d=new XMLHttpRequest,e=objToParams(b);d.onreadystatechange=function(){return 4==d.readyState?(c=JSON.parse(d.response),console.log(c),c):void 0},d.open("GET",a+e,!0),d.send(null)}catch(f){console.log("Gigwave: Error loading feed."),console.log(f)}}},function(a,b){if("function"==typeof define&&define.amd)define(["riot"],function(a){b(a)});else if("undefined"!=typeof module&&"undefined"!=typeof module.exports){var c=require("riot");b(c)}else b(a.riot)}(this,function(a){a.tag("todo",'<h1>{opts.title}</h1><ul><li each="{items.filter(whatShow)}"><label class="{completed: done}"><input type="checkbox" __checked="{done}" onclick="{parent.toggle}"> {title} </label></li></ul><form onsubmit="{add}"><input name="input" onkeyup="{edit}"><button __disabled="{!text}">Add #{items.filter(whatShow).length + 1}</button><button __disabled="{items.filter(onlyDone).length == 0}" onclick="{removeAllDone}"> X{items.filter(onlyDone).length} </button></form> ',function(a){this.items=a.items,this.edit=function(a){this.text=a.target.value}.bind(this),this.add=function(a){this.text&&(this.items.push({title:this.text}),this.text=this.input.value="")}.bind(this),this.removeAllDone=function(a){this.items=this.items.filter(function(a){return!a.done})}.bind(this),this.whatShow=function(a){return!a.hidden}.bind(this),this.onlyDone=function(a){return a.done},this.toggle=function(a){var b=a.item;return b.done=!b.done,!0}.bind(this)})});